---
title: Python程序打包成exe可执行文件
date: 2019-6-2
categories: 技术文章
tags:
    - Python
---

使用Pyinstaller来将Python程序打包成exe可执行文件
首先要安装Pyinstaller包
在命令行进入要打包的python程序的目录下面使用`pyinstaller file.py`打包
打包后会生成dict文件夹和buid文件夹还有一个.spec文件, 其中dict就是放置我们要的exe文件的文件夹

<!--more-->

### 本教程是使用Pyinstaller来将Python程序打包成exe可执行文件

### **实现步骤：**

**首先要安装Pyinstaller包, 在命令行窗口使用pip指令就可以完成：**
`pip install pyinstaller`
**安装成功后就可以进行打包了**
**在命令行进入要打包的python程序的目录下面**
**接着使用**   `pyinstaller file.py`   **就可以打包了(file.py是指你要打包的python文件)**
**这个指令也可以附带其他属性：**

```text
-F  表示生成单个可执行文件
-D  创建一个目录, 包含exe文件和依赖很多文件（默认选项）
-w  表示去掉控制台窗口, 这样执行exe文件的时候不会出现窗口, 但会在后台运行, 用命令行还是可以看见执行情况的
-c  使用控制台, 无界面(默认)；
-p  表示你自己自定义需要加载的类路径
-i  表示可执行文件的图标。
```

**例如我要生成一个带图标的exe文件, 没有其他依赖文件的, 那么就是使用指令：**
`pyinstaller -F -i image.ico file.py`   **（image.ico表示图标的路径, file.py表示要打包的python文件）**
**打包后会生成dict文件夹和buid文件夹还有一个.spec文件, 其中dict就是放置我们要的exe文件的文件夹, 其他两个是生成exe文件的过程中的中间产物, 可以删掉。**
**pyinstaller打包的时候会自动把其他依赖的包和其他python文件引入, 所以不用担心调用的问题。**
**但是其他要使用到的文件并不会被添加进去, 例如要使用的图片或者文档, 所以要自己把文件添加到打包完的exe文件的目录下面相应的路径, 否则会出现闪退或者文件执行失败。**
**另外就是, 如果py文件的编码是utf8, 但是文件里面又有中文的话, 那么使用windows的命令行打包会出现编码错误。**
**解决的方法就是先使用chcp指令进入其他编码的命令行**

**以下是几种常用的编码:**

```text
GBK(一般情况下为默认编码) 936
美国英语 437
utf-8 65001
```

**在这里我们要使用utf-8的编码, 所以使用命令:**
`chcp 65001`
**设置编码后再进行打包就不会出现编码错误的情况了**

**最后就是, 第一次打包出来的程序经常会出现各种问题, 建议在命令行执行exe文件, 这样可以看到报错的内容, 以便结合情况解决问题。**
