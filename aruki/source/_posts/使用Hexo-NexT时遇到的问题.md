---
title: 使用Hexo-NexT时遇到的问题
date: 2019-3-29
categories: 开发记录
tags:
    - 博客
---

搭建Hexo博客使用NexT主题时遇到的问题以及解决方法：
1、部署到github显示的网页和本地测试的网页不一样
2、生成了空白的html文件
3、hexo语句发生错误 Template render error: (unknown path)
4、左下角多了一个undefined
5、文件过大push不了

<!--more-->

## [部署到github显示的网页和本地测试的网页不一样](#部署到github显示的网页和本地测试的网页不一样)

<font size="4">
之前设置了网页的背景图片还有側框的边角, 同时添加了右上角的github跳转图标和阅读全文的设置。

但是在在本地测试完, 部署到github时, 发现只有github图标和阅读全文的设置生效了, 背景图片和边角设置没有体现出来。

这是因为github部署的时候缓存加载比较慢, 有时候要过一段时间才会显示出你想要的效果, 用`hexo clean`清除一下public文件夹,再重新部署用`hexo g -d`部署一下, 多刷新几次就行了。
</font><br /> 

## [生成了空白的html文件](#生成了空白的html文件)

第一次遇到这个问题的时候, 我是直接重新搭建了这个博客的, 毕竟一直不知道怎么解决, 明明上一步操作还是没问题的, 下一步页面突然就崩溃了。

后来这个博客又遇到了一次, 好在我找到了解决方法：

如果找不到index.html文件（在生成的public文件夹里面）的话, 要先用`npm ls --depth 0`检查一下插件情况,如果插件缺失了deploy和generator这两个插件的话就要用`npm install`重新安装插件。

**如果是有html文件, 但文件是空白的。那么你就要检查你刚刚修改的配置了, 如果你修改一个文件里某一个配置下的某一项, 但那一个配置忘记打开的话就会导致这样的情况。**

例如我在主题配置文件里的友情链接links下增加了网易云音乐这一个选项, 但是links前面原先有一个#号, 我没有删除打开的话, 生成的index.html文件就是空白的。

而我就是遇到了这种情况, 当时不知道是修改了哪一个配置, 忘记把#号删了, 结果就没有成功生成页面, 发现了之后把#号删了就恢复正常了。

## [hexo语句发生错误 Template render error: (unknown path)](#hexo语句发生错误%20Template%20render20%error:%20(unknown%20path))

在我写完另外一篇文章后, 打算测试一下, 发现无论是hexo g还是hexo s都会报错, 于是移除了那篇文章, 重新尝试了一下发现可以了。
在网上看到似乎不能用}}这样的符号, 我回去看那篇文章时发现我有一个}误删了, 这才的导致解析不通过。
结合之前生成空白html的经历, 我发现只要文件里面有一点语法错误都会出现很大问题, 如果某次操作突然出错了, 记得去检查你最近的修改和文章有没有语法错误。

## [左下角多了一个undefined](#左下角多了一个undefined)

最新版本的看板娘, 在layout/_layout.swig的`</body>`前加上{ { live2d() } }, 会产生一个默认的看板娘。
如果在_config.yml文件中只设置一个, 这就会产生冲突, 导致有一个无法定义, 所以会在页面多出一个undefined语句。
在最新版本要把`</body>`前的{ { live2d() } }删除, 这样才不会出错。

## [文件过大push不了](#文件过大push不了)

更新404页面的时候, 我这404里面插入了一个视频, 然后在上传的时候发现github不支持超过100M的文件, 所以我把视频删了, 重新部署一遍博客。
但每次部署都会继续上传我删掉的那个视频, 为什么呢？
我已经把404文件夹里面的视频删了, 也把public文件夹里面的视频删了, 我还检查了一遍.deploy_git下面的文件夹, 都没发现那个视频了。
上网重新查了一下hexo的部署方式才知道, 执行hexo d, 就会把这个public文件夹的东西完完整整拷贝到.deploy_git文件夹里。
想起了之前部署失败, 应该是.deploy_git文件夹里面还保留了之前没push的信息, 才会导致现在也部署不了。
解决方法就是执行`hexo cl`清除一下缓存, 或者直接把.deploy_git文件夹删了, 
这样重新部署就没问题了。
顺便一提, 其实那个视频我还是插进去了, 只不过用了另外一种方法...
