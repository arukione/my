---
title: 2020.2.25 SpringBoot学习笔记
date: 2020-2-25 23:44
categories: 学习笔记
tags:
    - Java
    - spring-projects
    - Spring Boot
---


## 用IDEA新建一个带数据库依赖的spring boot web项目后运行出错

**运行报错内容如下：**

```Java
Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
 If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
 If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).
```

上面的报错内容是说DataSource(数据源)配置错误: url没有配置并且嵌入数据源没有配置
其实就是没有在配置文件里面配置数据库信息
<!--more-->
**解决方法：**

在SpringBoot配置文件里面配置数据源就好了, 但是刚开始学习不知道怎么配置数据源, 可以使用另外一种方法, 忽略web项目的数据库依赖, 也就是项目入口注解那里加上exclude传输, 如下:

```Java
@SpringBootApplication(exclude = DataSourceAutoConfiguration.class)
```

## 配置thymeleaf3无法正常使用

修改thymeleaf版本是在properties里修改thymeleaf.version和thymeleaf-layout-dialect.version, 但是配置完发现没办法正常使用模板引擎

后来去GitHub查了一下依赖的版本, 把版本都改成新的才解决了这个问题, 所以我认为应该是thymeleaf的布局依赖的版本的问题

```xml
<thymeleaf.version>3.0.11.RELEASE</thymeleaf.version>
<thymeleaf-layout-dialect.version>2.4.0</thymeleaf-layout-dialect.version>
```

GitHub发行地址
<https://github.com/thymeleaf/thymeleaf/releases>
<https://github.com/ultraq/thymeleaf-layout-dialect/releases>

## 访问外部文件

SpringBoot的静态资源文件都放在resource/static下面, 在SpringBoot里面可以直接访问到这个文件下的内容, 但是, 在部署的时候, 会打包成jar包, 这时这个文件夹在jar包里面, 如果用户上传文件是无法上传到这里的, 所以只能存在jar外部。
当文件保存在jar包外部的时候, springboot想要访问这些资源, 需要在配置文件里面指定静态资源目录, 让springboot根据静态资源的规则去找到这个目录, 这样在jar包外部的文件夹也可以在springboot内部或者通过浏览器访问到了。

**在配置文件指定静态资源目录:**

```propreties

spring.resources:static-locations: classpath:static/,file:static/

```

上面那个配置可以让springboot访问jar包同级目录下的static目录内的文件, 或者是本地项目根目录下static目录内的文件
